### `admin/new-post.json` (新增/編輯文章頁的 JSON 配置檔)

這個檔案定義了新增/編輯文章頁面的版面配置。

```json
{
  "page_title": "新增文章 - 你的部落格",
  "layout": {
    "header": {
      "component": "navigation",
      "data_source": "../navigation.json",
      "description": "頁面頂部的導覽列，數據來源於根目錄下的共用導覽設定檔。"
    },
    "main_content": {
      "component": "article_editor_section",
      "description": "頁面主要內容區，包含文章編輯器和相關表單欄位。"
    },
    "footer": {
      "component": "footer",
      "data_source": "../footer.json",
      "description": "頁面最下方的頁腳，數據來源於根目錄下的共用頁腳設定檔。"
    }
  }
}
```

-----

### `admin/new-post.md` (新增/編輯文章頁的資料文檔)

本文件詳細說明了「新增文章」頁面的功能、表單配置和兩種不同模式下的數據處理流程。

#### 頁面功能與模式區分

此頁面擁有雙重功能，根據網址中是否存在 `?id={{article_id}}` 參數來決定運作模式。

  * **新增模式**：網址中沒有 `id` 參數，此時頁面用於發布全新的文章。
  * **編輯模式**：網址中包含 `id` 參數，此時頁面用於編輯指定的文章。

#### 表單欄位與數據流

編輯區包含一個主要表單，所有資料都將透過這個表單送出。所有 **POST** 請求的目標 URL 均從 `api-endpoints.json` 檔案中獲取。

表單欄位說明：

  * `actiontype` (隱藏欄位):
      * **新增模式**：提交時，值為 `"新增"`。
      * **編輯模式**：頁面載入時，值為 `"內容"`，用來請求後端返回文章的原始內容。當使用者點擊提交按鈕時，值變為 `"編輯"`。
  * `id` (隱藏欄位):
      * **新增模式**：此欄位留空。
      * **編輯模式**：從網址的 GET 參數中讀取 `id` 的值，並填入此欄位。提交時會隨同其他欄位一起發送。
  * `title`: 文章標題的輸入框。
  * `text`: 文章內容編輯器（使用 **TinyMCE**），用於輸入文章主體內容。
  * `pwd`: 管理員密碼的輸入框，用於驗證操作權限。

#### 編輯模式下的特殊流程

1.  **載入文章內容**：當頁面網址中檢測到 `id` 參數時，前端應立即發送一個 **POST** 請求到 API URL。
2.  **請求表單**：此請求的表單隱藏欄位如下：
      * `actiontype`: `"內容"`
      * `id`: 從網址 GET 參數中讀取的值
3.  **後端返回**：後端預期返回包含該篇文章標題和內容的 JSON 資料，例如：
    ```json
    {
      "title": "如何設計一個簡單又實用的JSON格式",
      "text": "這篇文章介紹了設計JSON格式的基本原則..."
    }
    ```
4.  **填入表單**：前端將接收到的 `title` 和 `text` 內容，分別填入對應的表單欄位中，以便使用者進行編輯。

#### 提交表單

不論是新增還是編輯模式，使用者點擊提交後，表單會將所有欄位（包括隱藏欄位）打包發送，讓後端進行相應的處理。